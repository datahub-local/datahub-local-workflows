
# Airflow Project Skeleton

This folder contains a minimal Airflow project skeleton for local development and CI.

## Contents

- `pyproject.toml` - canonical dependency manifest (used by `uv`)
- `.python-version` - pinned python for `uv` venv creation
- `dags/` - Airflow DAGs (example DAG included)
- `plugins/` - Airflow plugins (empty)
- `tests/` - unit tests (Pytest)
- `requirements.txt` - compatibility/legacy; `pyproject.toml` is preferred

## How to use it

This project uses `uv` as the primary dependency manager. `pyproject.toml` is
the canonical source of dependencies; `uv.lock` will be generated by `uv lock`
and should be committed for reproducible installs.

- Install `uv` (one-time per machine):

    ```bash
    curl -LsSf https://astral.sh/uv/install.sh | sh
    # or: pip install uv
    ```

- Create and sync the project environment (from repository root):

    ```bash
    cd workflows/airflow
    # generate or update a lockfile (recommended for reproducible runs)
    uv lock
    # create .venv and install pinned dependencies
    uv sync
    ```

- Run tests:

    ```bash
    # run the small unit test suite via uv (uses the project's venv)
    uv run -- python run_tests.py
    # or run pytest directly inside the venv after `uv sync`
    uv run -- pytest -q
    ```
